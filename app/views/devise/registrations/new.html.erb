<script>
  $(document).ready(function() {
      $("#consent").click(function() {
          var isDisabled = $('#consent').prop('checked')
          if(isDisabled) {
              $("#user_contact_number").removeAttr("required");
              $("#user_next_of_kin").removeAttr("required");
              $("#user_next_of_kin_first_last_name").removeAttr("required");
              $("#user_next_of_kin_second_last_name").removeAttr("required");
              $("#user_next_of_kin_number").removeAttr("required");
          } else {
              $("#user_contact_number").prop('required', true);
              $("#user_next_of_kin").prop('required', true);
              $("#user_next_of_kin_first_last_name").prop('required', true);
              $("#user_next_of_kin_second_last_name").prop('required', true);
              $("#user_next_of_kin_number").prop('required', true);
          }
      });
  });
</script>

<div class="authform">
  <%= form_for(resource, :as => resource_name, :url => registration_path(resource_name), :html => { :role => 'form'}) do |f| %>
    <h3>Sign up</h3>
    <%= devise_error_messages! %>
    <div class="form-group">
      <%= f.label "Email *" %>
      <%= f.text_field :email, class: 'form-control', :required => true%>
    </div>
    <div class="form-group">
      <%= f.label "Nombre *" %>
      <%= f.text_field :first_name, class: 'form-control', :required => true%>
    </div>
    <div class="form-group">
      <%= f.label "Apellido Paterno *" %>
      <%= f.text_field :last_name, class: 'form-control'%>
    </div>
    <div class="form-group">
      <%= f.label "Apellido Materno *" %>
      <%= f.text_field :second_last_name, class: 'form-control'%>
    </div>
    <div class="form-group">
      <%= f.label "Numero de Contacto" %>
      <%= f.text_field :contact_number, class: 'form-control', :required => true%>
    </div>
    <div class="form-group">
      <%= f.label "Nombre de Padre o Tutor" %>
      <%= f.text_field :next_of_kin, class: 'form-control', :required => true%>
    </div>
    <div class="form-group">
      <%= f.label "Apellido Paterno de Padre o Tutor" %>
      <%= f.text_field :next_of_kin_first_last_name, class: 'form-control'%>
    </div>
    <div class="form-group">
      <%= f.label "Apellido Materno de Padre o Tutor" %>
      <%= f.text_field :next_of_kin_second_last_name, class: 'form-control'%>
    </div>
    <div class="form-group">
      <%= f.label "Numero de Contacto de Padre o Tutor" %>
      <%= f.text_field :next_of_kin_number, class: 'form-control', :required => true%>
    </div>
    <div class="form-group">
      <%= f.label "Password *" %>
      <%= f.password_field :password, class: 'form-control', :required => true%>
    </div>
    <div class="form-group">
      <%= f.label "Password Confirmation *" %>
      <%= f.password_field :password_confirmation, class: 'form-control', :required => true%>
    </div>
    <div class="form-group">
      <%= check_box_tag(:consent) %>
      <%= label_tag(:consent, "No quiero dar mis datos extra") %>
    </div>
     <%= f.submit 'Sign up', :class => 'button right' %>
  <% end %>
</div>